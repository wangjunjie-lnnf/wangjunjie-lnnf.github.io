---
layout: post
title:  "存储结构"
date:   2024-01-22 23:22:07 +0000
categories: jekyll
tags: hardware
---

# 存储结构

## 概述

### 逻辑结构

![memory-symbol](/assets/images/2024-01-22/memory-symbol.png)

> 上图是内存的通用符号

> The memory is organized as a two-dimensional array of memory cells. The memory reads or writes the contents of one of the rows of the array. This row is specified by an address. The value read or written is called data. An array with N-bit addresses and M-bit data has 2<sup>N</sup> rows and M columns. Each row of data is called a word. Thus, the array contains 2<sup>N</sup> M-bit words.

> 内存的逻辑结构是二位数组，使用地址指定行，每行的数据称作word

![memory-symbol-demo](/assets/images/2024-01-22/memory-symbol-demo.png)

> 上图是一个2-bit地址和3-bit数据的示例

![memory-symbol-demo2](/assets/images/2024-01-22/memory-symbol-demo2.png)

> The depth of an array is the number of rows, and the width is the number of columns, also called the word size. The size of an array is given as depth × width. 

> 上图是一个32KB的内存块：wordSize=32-bit

### 物理结构

![memory-symbol-bitcell](/assets/images/2024-01-22/memory-symbol-bitcell.png)

> Memory arrays are built as an array of bit cells, each of which stores 1 bit of data. Each bit cell is connected to a wordline and a bitline. For each combination of address bits, the memory asserts a single wordline that activates the bit cells in that row. When the wordline is HIGH, the stored bit transfers to or from the bitline. Otherwise, the bitline is disconnected from the bit cell. The circuitry to store the bit varies with memory type.

> 内存块的物理结构是wordline和bitline构成的二维网格

> To read a bit cell, the bitline is initially left floating (Z). Then, the wordline is turned ON, allowing the stored value to drive the bitline to 0 or 1. To write a bit cell, the bitline is strongly driven to the desired value. Then, the wordline is turned ON, connecting the bitline to the stored bit. The strongly driven bitline overpowers the contents of the bit cell, writing the desired value into the stored bit.

> 读数据时bitline处于float模式，然后打开wordline，bitcell存储的值流入bitline；写数据时先设置bitline，然后打开wordline，bitline的值流入bitcell。

![memory-symbol-bitcell-array](/assets/images/2024-01-22/memory-symbol-bitcell-array.png)

> 上图是一个4x3内存块的物理结构

> During a memory read, a wordline is asserted, and the corresponding row of bit cells drives the bitlines HIGH or LOW. During a memory write, the bitlines are driven HIGH or LOW first and then a wordline is asserted, allowing the bitline values to be stored in that row of bit cells. For example, to read Address 10, the bitlines are left floating, the decoder asserts wordline<sub>2</sub>, and the data stored in that row of bit cells (100) reads out onto the Data bitlines. To write the value 001 to Address 11, the bitlines are driven to the value 001, then wordline<sub>3</sub> is asserted and the new value (001) is stored in the bit cells.

> 读数据时bitline处于float模式，然后打开wordline，bitcell存储的值流入bitline；写数据时先设置bitline，然后打开wordline，bitline的值流入bitcell。

### 内存端口

![memory-port](/assets/images/2024-01-22/memory-port.png)

> 内存电路都会提供端口，每个端口可以读写一个内存地址。多端口的内存可以同时访问多个地址。上图是一个3端口的内存，A1/A2是读端口，读出的数据从RD1/RD2输出；A3是写端口，写入的数据从WD3输入。

### 内存类型

> Memory arrays are specified by their size (depth × width) and the number and type of ports. All memory arrays store data as an array of bit cells, but they differ in how they store bits. Memories are classified based on how they store bits in the bit cell. The broadest classification is random access memory (RAM) versus read only memory (ROM). RAM is volatile, meaning that it loses its data when the power is turned off. ROM is nonvolatile, meaning that it retains its data indefinitely, even without a power source.

> 所有的内存存储结构都是bitcell数组，差异在于存储的方式。广义上分为两类：非持久的RAM和持久化的ROM。

> The two major types of RAMs are dynamic RAM (DRAM) and static RAM (SRAM). Dynamic RAM stores data as a charge on a capacitor, whereas static RAM stores data using a pair of cross-coupled inverters. There are many flavors of ROMs that vary by how they are written and erased. These various types of memories are discussed in the subsequent sections.

> RAM的两种主要类型是DRAM和SRAM，DRAM通过给电容充电来存储数据，SRAM通过类似于flip-flop的交叉耦合的inverter存储数据。ROM有很多类型，差异在于数据写入和擦除的方式。


## DRAM



## SRAM


### ROM

## SSD

